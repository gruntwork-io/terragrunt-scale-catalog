variables:
  - name: IncludeDriftDetection
    type: bool
    description: Whether to include the drift detection workflow.
    default: true
    order: 1

dependencies:
  - name: common
    template-url: ../../../.dependencies/common
    output-folder: .
  - name: github
    template-url: ../../../.dependencies/github
    output-folder: .
  - name: github-drift-detection
    template-url: ../../../.dependencies/github-drift-detection
    output-folder: .
    skip: "{{ not .IncludeDriftDetection }}"
  # The azure dependency actually overrides content from the common dependency,
  # so we need to depend on it after the common dependency.
  - name: azure-base
    template-url: ../../../.dependencies/azure/base
    output-folder: .
  - name: azure-subscription
    template-url: ../subscription
    output-folder: .
